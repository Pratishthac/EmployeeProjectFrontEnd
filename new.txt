CREATE DATABASE IF NOT EXISTS EmployeeDetails;

CREATE TABLE Employee(

EID INT AUTO_INCREMENT PRIMARY KEY,
name varchar(50) NOT NULL,
phone varchar(20),
email varchar(320) NOT NULL,
joinedOn TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
DOB TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
aadharID INT NOT NULL,
city varchar(20),
check (DATALENGTH(aadharID)=12)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;


CREATE TABLE Project(

PID INT AUTO_INCREMENT PRIMARY KEY,
title varchar(30) NOT NULL,
startedOn TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
deadline TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
check (deadline>startedOn)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;

CREATE TABLE EmployeeProject(

EID INT NOT NULL REFERENCES Employee(EID), 
PID INT NOT NULL REFERENCES Project(PID), 
primary key (EID,PID)
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;

CREATE TABLE ProjectTechnology(
PID INT NOT NULL REFERENCES Project(PID), 
Technology varchar(15) NOT NULL
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8;
